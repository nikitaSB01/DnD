!function(){var e={930:function(){let e=null,t=0,n=0,o=null,l=null,r=!1,c=!1;function a(o,l){e.style.left=o-t+"px",e.style.top=l-n+"px"}function s(){const e=document.querySelectorAll(".column"),t=Array.from(e).map((e=>Array.from(e.querySelectorAll(".card")).map((e=>e.textContent.trim()))));localStorage.setItem("kanbanCards",JSON.stringify(t))}document.addEventListener("mousedown",(r=>{if(r.preventDefault(),[...document.querySelectorAll(".card"),...document.querySelectorAll(".addCardBtn")].forEach((e=>{e.classList.add("cardCardBtn")})),r.target.classList.contains("card")){e=r.target;const s=e.getBoundingClientRect();t=r.clientX-s.left,n=r.clientY-s.top;const d=getComputedStyle(e);o=e.parentNode;const i=parseInt(d.marginBottom,10),u=parseInt(d.marginTop,10);e.style.width=d.width,e.style.height=d.height,e.style.position="absolute",e.style.zIndex="1000",document.documentElement.style.cursor="grabbing",l=document.createElement("div"),l.className="placeholder",l.style.width=e.offsetWidth+"px",l.style.height=e.offsetHeight+u+i+"px",l.style.background="transparent",o.insertBefore(l,e),e.classList.add("dragged"),document.body.append(e),a(r.pageX,r.pageY),c=!1}})),document.addEventListener("mousemove",(s=>{if(e){a(s.pageX,s.pageY),r=!0;const d=Math.abs(s.clientX-t),i=Math.abs(s.clientY-n);(d>10||i>10)&&(c=!0);const u=getComputedStyle(e),m=parseInt(u.marginBottom,10),p=parseInt(u.marginTop,10);l.style.width=e.offsetWidth+"px",l.style.height=e.offsetHeight+p+m+"px";const y=Array.from(o.querySelectorAll(".card"));let f=null;for(let e=0;e<y.length;e++){const t=y[e],n=t.getBoundingClientRect();if(s.clientY<n.top+n.height/2){f=t;break}}f?o.insertBefore(l,f):o.append(l);const g=document.elementFromPoint(s.clientX,s.clientY).closest(".column");if(g&&g!==o){const e=g.querySelector(".card-container");if(e&&!e.contains(l)){const t=Array.from(e.querySelectorAll(".card"));let n=null;for(let e=0;e<t.length;e++){const o=t[e],l=o.getBoundingClientRect();if(s.clientY<l.top+l.height/2){n=o;break}}n?e.insertBefore(l,n):e.append(l)}}}})),document.addEventListener("mouseup",(t=>{if([...document.querySelectorAll(".card"),...document.querySelectorAll(".addCardBtn")].forEach((e=>{e.classList.remove("cardCardBtn")})),e){if(c){const n=document.elementFromPoint(t.clientX,t.clientY).closest(".column"),r=n?n.querySelector(".card-container"):null;r?(r.insertBefore(e,l||null),l&&l.remove()):(o.insertBefore(e,l),l&&l.remove())}else o.insertBefore(e,l),l&&l.remove();e.classList.remove("dragged"),e.style="",t.target===e?document.documentElement.style.cursor="grab":document.documentElement.style.cursor="default",e=null,s()}}));const d=document.querySelectorAll(".addCardBtn");!function(){const e=JSON.parse(localStorage.getItem("kanbanCards"));if(e){const t=document.querySelectorAll(".column");e.forEach(((e,n)=>{const o=t[n].querySelector(".card-container");e.forEach((e=>{const t=document.createElement("div");t.className="card",t.textContent=e;const n=document.createElement("span");n.innerHTML='<i class="fas fa-times"></i>',n.className="delete-btn",n.onclick=e=>{e.target.closest(".card").remove(),s()},t.append(n),o.append(t)}))}))}}(),d.forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget,n=t.previousElementSibling;d.forEach((e=>{e.style.display="none"}));const o=document.createElement("div");o.className="card";const l=document.createElement("input");l.type="text",l.placeholder="Введите текст...",l.className="cardInput";const r=document.createElement("button");r.textContent="Add",r.className="addNoteBtn";const c=document.createElement("button");c.textContent="Cancel",c.className="cancelBtn";t.parentElement.append(r,c),r.addEventListener("click",(()=>{const e=l.value.trim();e&&(o.textContent=e,o.append(a),n.append(o),s(),l.value="",r.style.display="none",c.style.display="none",d.forEach((e=>{e.style.display="block",e.parentElement.style.textAlign="center"})))})),c.addEventListener("click",(()=>{o.style.display="none",l.style.display="none",r.style.display="none",c.style.display="none",d.forEach((e=>{e.style.display="block",e.parentElement.style.textAlign="center"}))})),l.addEventListener("keydown",(e=>{if("Enter"===e.key){const e=l.value.trim();e&&(o.textContent=e,o.append(a),n.append(o),s(),l.value="",r.style.display="none",c.style.display="none",d.forEach((e=>{e.style.display="block",e.parentElement.style.textAlign="center"})))}}));const a=document.createElement("span");a.innerHTML='<i class="fas fa-times"></i>',a.className="delete-btn",a.onclick=e=>{e.target.closest(".card").remove(),s()},o.append(l),n.append(o),l.focus()}))}))}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";n(930)}()}();
//# sourceMappingURL=bundle.js.map